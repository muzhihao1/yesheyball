-- ============================================================================
-- 90天训练系统：专项训练数据导入
-- ============================================================================
-- 导入五分点、力度、分离角三大专项训练
-- 作者: 耶氏台球学院
-- 日期: 2025-01-11
-- ============================================================================

BEGIN;

-- ============================================================================
-- 专项1：五分点精准训练
-- ============================================================================

-- 1分点瞄准训练
INSERT INTO specialized_training (
  category, name, description, training_method, evaluation_criteria,
  related_tencore_skills, difficulty, estimated_duration, order_index
) VALUES (
  '五分点',
  '1分点瞄准训练',
  '专门练习1分点瞄准法，适用于直球和15度以内的小角度球。通过系统练习建立1分点的瞄准感觉。',
  '【训练方法】
1. 摆放15个不同位置的直球和小角度球（0-15度）
2. 使用1分点瞄准法进行瞄准
3. 记录每个球的进球情况和击球感觉
4. 重点体会1分点的瞄准线和击球点
5. 每组练习后分析成功率和失误原因

【练习要点】
- 1分点位于目标球中心偏左/右约1/5处
- 瞄准线要精准对准1分点
- 击球力度适中，保持稳定
- 注意观察母球撞击后的路径
- 建立1分点的肌肉记忆',
  '{
    "初级": "15个球进球率>70%，瞄准速度适中，对1分点有基本认识",
    "中级": "15个球进球率>80%，瞄准快速准确，1分点运用熟练",
    "高级": "15个球进球率>90%，瞄准迅速精准，1分点成为本能反应"
  }',
  '[3, 4]',
  '初级',
  30,
  1
);

-- 2分点瞄准训练
INSERT INTO specialized_training (
  category, name, description, training_method, evaluation_criteria,
  related_tencore_skills, difficulty, estimated_duration, order_index
) VALUES (
  '五分点',
  '2分点瞄准训练',
  '专门练习2分点瞄准法，适用于30度左右的中小角度球。掌握2分点的瞄准技巧和进球规律。',
  '【训练方法】
1. 摆放15个30度左右的角度球（25-35度）
2. 使用2分点瞄准法进行瞄准
3. 记录每个球的进球情况和击球感觉
4. 重点体会2分点的瞄准线和击球点
5. 对比1分点和2分点的差异

【练习要点】
- 2分点位于目标球中心偏左/右约2/5处
- 瞄准线要精准对准2分点
- 力度可适当加大，保持穿透力
- 观察母球的分离角度
- 建立2分点的瞄准习惯',
  '{
    "初级": "15个球进球率>70%，能够区分1分点和2分点",
    "中级": "15个球进球率>80%，2分点瞄准准确快速",
    "高级": "15个球进球率>90%，2分点瞄准成为自然反应"
  }',
  '[3, 4]',
  '初级',
  30,
  2
);

-- 3分点瞄准训练
INSERT INTO specialized_training (
  category, name, description, training_method, evaluation_criteria,
  related_tencore_skills, difficulty, estimated_duration, order_index
) VALUES (
  '五分点',
  '3分点瞄准训练',
  '专门练习3分点瞄准法，适用于45度的中角度球。3分点是五分点法的核心，需要重点掌握。',
  '【训练方法】
1. 摆放15个45度角度球（40-50度）
2. 使用3分点瞄准法进行瞄准
3. 记录每个球的进球情况和击球感觉
4. 重点体会3分点的瞄准线和击球点
5. 3分点是标准45度球，要特别熟练

【练习要点】
- 3分点位于目标球中心偏左/右3/5处（球心位置）
- 3分点等于半球瞄准法
- 瞄准线对准目标球球心
- 力度灵活调整
- 3分点是最常用的瞄准点，必须精通',
  '{
    "初级": "15个球进球率>70%，理解3分点即半球原理",
    "中级": "15个球进球率>80%，3分点瞄准准确熟练",
    "高级": "15个球进球率>90%，3分点瞄准达到大师水平"
  }',
  '[3, 4]',
  '中级',
  30,
  3
);

-- 4分点瞄准训练
INSERT INTO specialized_training (
  category, name, description, training_method, evaluation_criteria,
  related_tencore_skills, difficulty, estimated_duration, order_index
) VALUES (
  '五分点',
  '4分点瞄准训练',
  '专门练习4分点瞄准法，适用于60度的中大角度球。4分点需要更精准的瞄准和力度控制。',
  '【训练方法】
1. 摆放15个60度角度球（55-65度）
2. 使用4分点瞄准法进行瞄准
3. 记录每个球的进球情况和击球感觉
4. 重点体会4分点的瞄准线和击球点
5. 注意4分点时力度要适当加大

【练习要点】
- 4分点位于目标球中心偏左/右4/5处
- 瞄准线要精准对准4分点
- 力度要适当加大，确保进球
- 母球分离角度较大
- 4分点需要更高的瞄准精度',
  '{
    "初级": "15个球进球率>60%，掌握4分点基本瞄准",
    "中级": "15个球进球率>75%，4分点瞄准稳定准确",
    "高级": "15个球进球率>85%，4分点瞄准精准快速"
  }',
  '[3, 4]',
  '中级',
  30,
  4
);

-- 5分点瞄准训练（实际上是极限薄球）
INSERT INTO specialized_training (
  category, name, description, training_method, evaluation_criteria,
  related_tencore_skills, difficulty, estimated_duration, order_index
) VALUES (
  '五分点',
  '极限薄球瞄准训练',
  '练习75度以上的极限薄球瞄准。这类球难度极大，需要极高的瞄准精度和信心。',
  '【训练方法】
1. 摆放10个75度以上的极限薄球（70-85度）
2. 使用极限薄球瞄准技巧
3. 记录每个球的进球情况
4. 重点体会极限薄球的击球感觉
5. 建立极限薄球的信心

【练习要点】
- 极限薄球只能碰到目标球边缘
- 瞄准线要极其精准
- 力度要适中，过大容易滑杆
- 心态要稳定，不要畏惧
- 极限薄球成功率不求高，重在建立信心',
  '{
    "初级": "10个球进球率>40%，敢于尝试极限薄球",
    "中级": "10个球进球率>60%，极限薄球有一定成功率",
    "高级": "10个球进球率>75%，极限薄球信心十足"
  }',
  '[3, 4]',
  '高级',
  30,
  5
);

-- ============================================================================
-- 专项2：力度分级训练
-- ============================================================================

-- 1档力度训练（超小力）
INSERT INTO specialized_training (
  category, name, description, training_method, evaluation_criteria,
  related_tencore_skills, difficulty, estimated_duration, order_index
) VALUES (
  '力度',
  '1档力度训练（超小力0.5米）',
  '专门练习超小力度控制，母球走位0.5米以内。这是最精细的力度控制训练。',
  '【训练方法】
1. 在台面标记0.5米目标区域
2. 从固定击球点，使用超小力击球
3. 目标：母球精准停在0.5米区域内
4. 连续练习20次，记录成功率
5. 体会超小力的发力感觉

【练习要点】
- 握杆极度放松，几乎不用力
- 发力距离极短，约5-10cm
- 击球后跟杆距离极短
- 母球滚动速度极慢
- 这是最考验控制力的训练',
  '{
    "初级": "20次练习，母球停在目标区域误差±30cm",
    "中级": "20次练习，母球停在目标区域误差±20cm",
    "高级": "20次练习，母球停在目标区域误差±10cm"
  }',
  '[2, 7]',
  '中级',
  20,
  6
);

-- 2档力度训练（小力）
INSERT INTO specialized_training (
  category, name, description, training_method, evaluation_criteria,
  related_tencore_skills, difficulty, estimated_duration, order_index
) VALUES (
  '力度',
  '2档力度训练（小力1-2米）',
  '专门练习小力度控制，母球走位1-2米。这是最常用的走位力度。',
  '【训练方法】
1. 在台面标记1-2米目标区域
2. 从固定击球点，使用小力击球
3. 目标：母球精准停在1-2米区域内
4. 连续练习20次，记录成功率
5. 体会小力的发力感觉

【练习要点】
- 握杆放松，轻度发力
- 发力距离约10-15cm
- 击球后跟杆适中
- 母球滚动速度较慢
- 小力是最常用的走位力度',
  '{
    "初级": "20次练习，母球停在目标区域误差±30cm",
    "中级": "20次练习，母球停在目标区域误差±20cm",
    "高级": "20次练习，母球停在目标区域误差±10cm"
  }',
  '[2, 7]',
  '初级',
  20,
  7
);

-- 3档力度训练（中力）
INSERT INTO specialized_training (
  category, name, description, training_method, evaluation_criteria,
  related_tencore_skills, difficulty, estimated_duration, order_index
) VALUES (
  '力度',
  '3档力度训练（中力2-3米）',
  '专门练习中等力度控制，母球走位2-3米。这是标准的击球力度。',
  '【训练方法】
1. 在台面标记2-3米目标区域
2. 从固定击球点，使用中力击球
3. 目标：母球精准停在2-3米区域内
4. 连续练习20次，记录成功率
5. 体会中力的发力感觉

【练习要点】
- 握杆适度，中等发力
- 发力距离约15-20cm
- 击球后跟杆自然
- 母球滚动速度适中
- 中力是最标准的击球力度',
  '{
    "初级": "20次练习，母球停在目标区域误差±30cm",
    "中级": "20次练习，母球停在目标区域误差±20cm",
    "高级": "20次练习，母球停在目标区域误差±10cm"
  }',
  '[2, 7]',
  '初级',
  20,
  8
);

-- 4档力度训练（大力）
INSERT INTO specialized_training (
  category, name, description, training_method, evaluation_criteria,
  related_tencore_skills, difficulty, estimated_duration, order_index
) VALUES (
  '力度',
  '4档力度训练（大力3-4米）',
  '专门练习大力度控制，母球走位3-4米。需要更强的发力和控制能力。',
  '【训练方法】
1. 在台面标记3-4米目标区域
2. 从固定击球点，使用大力击球
3. 目标：母球精准停在3-4米区域内
4. 连续练习20次，记录成功率
5. 体会大力的发力感觉

【练习要点】
- 握杆稳固，大力发力
- 发力距离约20-25cm
- 击球后充分跟杆
- 母球滚动速度较快
- 大力要保持稳定性',
  '{
    "初级": "20次练习，母球停在目标区域误差±30cm",
    "中级": "20次练习，母球停在目标区域误差±20cm",
    "高级": "20次练习，母球停在目标区域误差±10cm"
  }',
  '[2, 7]',
  '中级',
  20,
  9
);

-- 5档力度训练（超大力）
INSERT INTO specialized_training (
  category, name, description, training_method, evaluation_criteria,
  related_tencore_skills, difficulty, estimated_duration, order_index
) VALUES (
  '力度',
  '5档力度训练（超大力>4米）',
  '专门练习超大力度控制，母球走位4米以上全台范围。需要极强的发力和稳定性。',
  '【训练方法】
1. 在台面标记4米以上目标区域
2. 从固定击球点，使用超大力击球
3. 目标：母球精准走位到远距离目标
4. 连续练习15次，记录成功率
5. 体会超大力的发力感觉

【练习要点】
- 握杆极度稳固，满弓发力
- 发力距离约25-30cm以上
- 击球后充分跟杆
- 母球滚动速度很快
- 超大力要保持姿势稳定，不能发力过猛失控',
  '{
    "初级": "15次练习，母球走位误差±50cm，姿势基本稳定",
    "中级": "15次练习，母球走位误差±30cm，姿势稳定",
    "高级": "15次练习，母球走位误差±20cm，发力强劲且稳定"
  }',
  '[2, 7]',
  '中级',
  20,
  10
);

-- ============================================================================
-- 专项3：分离角精准控制
-- ============================================================================

-- 小力分离角训练
INSERT INTO specialized_training (
  category, name, description, training_method, evaluation_criteria,
  related_tencore_skills, difficulty, estimated_duration, order_index
) VALUES (
  '分离角',
  '小力分离角训练（70-85度）',
  '专门练习小力击球的分离角控制。小力击球时，分离角会小于90度，通常在70-85度之间。',
  '【训练方法】
1. 摆放固定球型（母球、目标球、目标点）
2. 使用小力击球，观察母球分离角度
3. 记录不同小力程度下的分离角变化
4. 重复练习15次，总结规律
5. 学会预判小力分离角度

【练习要点】
- 中杆击球，使用小力
- 观察母球走位角度
- 通常分离角在70-85度之间
- 力度越小，分离角越小
- 掌握小力分离角规律，用于近距离走位',
  '{
    "初级": "能够区分小力和标准力的分离角差异，对规律有基本认识",
    "中级": "可以预判小力分离角误差±10度，走位基本准确",
    "高级": "可以精准控制小力分离角误差±5度，走位精准"
  }',
  '[6, 7]',
  '中级',
  25,
  11
);

-- 标准90度分离角训练
INSERT INTO specialized_training (
  category, name, description, training_method, evaluation_criteria,
  related_tencore_skills, difficulty, estimated_duration, order_index
) VALUES (
  '分离角',
  '标准90度分离角训练',
  '专门练习标准90度分离角。中杆、中等力度击球时，分离角接近90度。这是最基础的分离角规律。',
  '【训练方法】
1. 摆放固定球型（母球、目标球、目标点成90度）
2. 使用中杆、中力击球
3. 观察母球是否沿90度方向走位
4. 重复练习20次，验证90度规律
5. 在不同位置验证90度分离角

【练习要点】
- 中杆击球点，力度适中
- 母球与目标球分离后接近90度
- 这是最基础的分离角规律
- 在实战中最常用
- 掌握90度分离角是走位规划的基础',
  '{
    "初级": "理解90度分离角原理，实测误差±10度",
    "中级": "熟练掌握90度分离角，实测误差±5度",
    "高级": "精准控制90度分离角，可用于精确走位规划"
  }',
  '[6, 7]',
  '初级',
  25,
  12
);

-- 大力分离角训练
INSERT INTO specialized_training (
  category, name, description, training_method, evaluation_criteria,
  related_tencore_skills, difficulty, estimated_duration, order_index
) VALUES (
  '分离角',
  '大力分离角训练（95-110度）',
  '专门练习大力击球的分离角控制。大力击球时，分离角会大于90度，通常在95-110度之间。',
  '【训练方法】
1. 摆放固定球型（母球、目标球、目标点）
2. 使用大力击球，观察母球分离角度
3. 记录不同大力程度下的分离角变化
4. 重复练习15次，总结规律
5. 学会预判大力分离角度

【练习要点】
- 中杆击球，使用大力
- 观察母球走位角度
- 通常分离角在95-110度之间
- 力度越大，分离角越大
- 掌握大力分离角规律，用于远距离走位',
  '{
    "初级": "能够区分大力和标准力的分离角差异，对规律有基本认识",
    "中级": "可以预判大力分离角误差±10度，走位基本准确",
    "高级": "可以精准控制大力分离角误差±5度，走位精准"
  }',
  '[6, 7]',
  '中级',
  25,
  13
);

-- 杆法影响分离角训练
INSERT INTO specialized_training (
  category, name, description, training_method, evaluation_criteria,
  related_tencore_skills, difficulty, estimated_duration, order_index
) VALUES (
  '分离角',
  '杆法影响分离角训练',
  '深入学习高杆、中杆、低杆对分离角的影响。杆法是影响分离角的重要因素。',
  '【训练方法】
1. 摆放相同球型，使用不同杆法击球
2. 高杆：观察分离角缩小效果（<90度）
3. 中杆：观察标准90度分离角
4. 低杆：观察分离角增大效果（>90度）
5. 记录不同杆法下的分离角数据

【练习要点】
- 高杆会缩小分离角（母球前冲）
- 中杆是标准90度分离角
- 低杆会增大分离角（母球后拉）
- 杆法+力度可以精准控制分离角
- 掌握杆法对分离角的影响是高级走位的关键',
  '{
    "初级": "理解杆法对分离角的影响，能够区分高中低杆的差异",
    "中级": "可以通过杆法调整分离角，走位规划更灵活",
    "高级": "精准运用杆法+力度控制分离角，走位精准到位"
  }',
  '[5, 6, 7]',
  '高级',
  30,
  14
);

-- ============================================================================
-- 验证数据导入
-- ============================================================================

DO $$
DECLARE
    total_count INTEGER;
    wufendian_count INTEGER;
    lidu_count INTEGER;
    fenlijiao_count INTEGER;
BEGIN
    -- 统计表记录数量
    SELECT COUNT(*) INTO total_count FROM specialized_training;
    SELECT COUNT(*) INTO wufendian_count FROM specialized_training WHERE category = '五分点';
    SELECT COUNT(*) INTO lidu_count FROM specialized_training WHERE category = '力度';
    SELECT COUNT(*) INTO fenlijiao_count FROM specialized_training WHERE category = '分离角';

    -- 输出验证结果
    RAISE NOTICE '===========================================';
    RAISE NOTICE '专项训练数据导入验证';
    RAISE NOTICE '===========================================';
    RAISE NOTICE '总记录数: % 条', total_count;
    RAISE NOTICE '五分点专项: % 条', wufendian_count;
    RAISE NOTICE '力度专项: % 条', lidu_count;
    RAISE NOTICE '分离角专项: % 条', fenlijiao_count;
    RAISE NOTICE '===========================================';

    IF total_count = 14 THEN
        RAISE NOTICE '✅ 专项训练数据导入成功！';
    ELSE
        RAISE WARNING '⚠️  数据导入不完整，期望14条，实际%条', total_count;
    END IF;
END $$;

COMMIT;

-- ============================================================================
-- 使用说明
-- ============================================================================
--
-- 执行顺序:
-- 1. 先执行 12_create_90day_system.sql 创建表结构
-- 2. 执行 13_insert_90day_curriculum_part1.sql 和 part2.sql 导入90天课程
-- 3. 执行本脚本导入专项训练数据
--
-- 查询专项训练:
-- SELECT category, name, difficulty
-- FROM specialized_training
-- ORDER BY category, order_index;
--
-- 按类别统计:
-- SELECT category, COUNT(*) as count
-- FROM specialized_training
-- GROUP BY category;
--
-- ============================================================================
