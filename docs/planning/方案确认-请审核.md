# 三个月一杆清台 - 下一步开发方案确认

**创建时间**: 2025-01-17
**基于文档**: 耶氏台球网站开发完成度评估.md
**状态**: ⏳ 等待您的确认

---

## 📊 当前状态总结

### ✅ 已完成的工作（P0问题已全部解决！）

1. **品牌统一** ✅
   - 从"耶氏台球"更新为"三个月一杆清台"
   - 所有页面标题、header、HTML metadata已统一
   - **验证**: 生产环境已部署并验证

2. **数据源统一** ✅
   - 创建统一的 `useAbilityScores` hook
   - 修复训练连续天数计算（合并两个训练系统）
   - 解决能力评分、技能库进度不一致问题
   - **验证**: 所有页面数据现在来自同一数据源

3. **打卡统计500错误** ✅
   - 修复数据库查询的字段选择问题
   - `/api/user/streak` 端点现在正常返回200

---

## 🎯 待解决的问题（按优先级）

### P1 - 核心业务问题（高优先级，直接影响用户体验）

#### 问题1: 清台能力分计算逻辑不正确 🔴

**现状**:
```
个人档案显示:
- 清台能力总分: 20
- 准度: 67
- 杆法: 0
- 走位: 0
- 发力: 0
- 策略: 0

逻辑冲突: 67 + 0 + 0 + 0 + 0 ≠ 20
```

**影响**: 这是"三个月一杆清台"的核心指标，计算错误会严重影响产品可信度

**需要您确认**:
- [ ] 清台能力分的正确计算公式是什么？
- [ ] 五个维度的权重是多少？（平均？加权？）
- [ ] 当前显示的"20分"和"67分"哪个是对的？

**建议方案**:
```typescript
// 方案A: 简单求和
clearanceScore = accuracy + spin + positioning + power + strategy

// 方案B: 加权平均
clearanceScore = (
  accuracy * 0.3 +      // 准度30%
  spin * 0.2 +          // 杆法20%
  positioning * 0.2 +   // 走位20%
  power * 0.15 +        // 发力15%
  strategy * 0.15       // 策略15%
)

// 方案C: 总分500分制
clearanceScore = accuracy + spin + positioning + power + strategy
// 每个维度100分，总分500分
```

**您的选择**: _______________

**工作量**: 1-2天

---

#### 问题2: 每日目标进度显示异常 🔴

**现状**:
```
技能库页面显示:
- 训练时长: 0/100%
- 技能学习: 0/200%
- 实战演练: 0/300%
```

**问题**: 百分比不应该超过100%，这个显示逻辑不合理

**需要您确认**:
- [ ] 这三个目标的单位是什么？
  - [ ] 时间（分钟）: "0/10分钟"、"0/20分钟"、"0/30分钟"
  - [ ] 次数: "0/1次"、"0/2次"、"0/3次"
  - [ ] 完成度: "0%"、"0%"、"0%"

**您的选择**: _______________

**工作量**: 0.5天

---

#### 问题3: 专项训练道场内容缺失 🔴

**现状**:
- 技能库页面显示8个"专项训练道场"入口
- 点击后没有具体内容（详情页未实现）

**缺失内容**:
```
8个专项训练:
1. 基本功强化 - 缺详情页
2. 准度提升   - 缺详情页
3. 走位控制   - 缺详情页
4. 杆法精进   - 缺详情页
5. 发力训练   - 缺详情页
6. 策略思维   - 缺详情页
7. 实战演练   - 缺详情页
8. 心态训练   - 缺详情页

每个专项需要:
- 入门级训练计划（训练步骤、时长、目标）
- 进阶级训练计划
- 大师级训练计划
```

**需要您确认**:
- [ ] **内容来源**:
  - [ ] 您提供训练计划内容（文字描述）
  - [ ] 我根据台球训练原理自己设计
  - [ ] 使用AI生成内容框架，您审核调整

- [ ] **实施范围**:
  - [ ] 全部8个专项都填充
  - [ ] 先做2-3个示范专项，验证后再扩展
  - [ ] 先做入门级，进阶和大师级后续迭代

**您的选择**: _______________

**工作量**:
- 全部8个专项 x 3个级别 = 5-7天
- 2个示范专项 = 2-3天

---

### P2 - 用户体验优化（中优先级）

#### 问题4: 缺少新手引导

**现状**: 新用户登录后不知道从哪里开始

**建议方案**:
- 首次登录弹出引导modal
- 依次介绍4个模块
- 引导完成第一次训练

**工作量**: 2-3天

---

#### 问题5: 功能说明文案过长

**现状**: 练习场、技能库的说明文案占用空间大

**建议方案**:
- 精简为一句话说明
- 详细说明移到"帮助"或引导中

**工作量**: 0.5天

---

#### 问题6: 十大招训练单元内容待填充

**现状**: 傅家俊十大招的理论、练习、挑战单元详情页未实现

**工作量**: 3-5天（内容设计+开发）

---

## 🚀 推荐的执行方案

### 方案A: 业务优先（强烈推荐）⭐

**理由**: P0问题已解决，现在应该聚焦用户价值

**执行顺序**:
```
第1步: 清台能力分计算修复 (1-2天)
  └─ 核心卖点的关键指标

第2步: 每日目标进度显示修复 (0.5天)
  └─ 用户体验直接感知

第3步: 专项训练道场内容填充 (2-3天，先做2个示范)
  └─ 核心功能补全

第4步: 新手引导流程 (2天)
  └─ 提升新用户转化

第5步: 技术优化（API性能、测试框架等）
  └─ 功能稳定后再做技术优化
```

**总时长**: 约5-8天（取决于内容范围）

---

### 方案B: 技术优先

**执行顺序**:
```
第1步: API性能优化
第2步: E2E测试框架搭建
第3步: 代码清理
第4步: 再填充业务内容
```

**不推荐理由**:
- 技术优化对用户不可见
- 业务功能缺失影响更大
- 可能延迟产品上线

---

## ✅ 请您确认以下内容

### 核心决策

- [ ] **执行方案选择**:
  - [ ] 方案A: 业务优先（推荐）
  - [ ] 方案B: 技术优先
  - [ ] 方案C: 自定义顺序: _______________

### 业务逻辑确认

- [ ] **清台能力分计算公式**: _______________
  - 建议: 方案A简单求和 / 方案B加权平均 / 方案C其他

- [ ] **每日目标单位**: _______________
  - 建议: 时间（分钟）/ 次数 / 完成度百分比

- [ ] **专项训练内容来源**: _______________
  - 您提供 / AI生成后您审核 / 我自己设计

- [ ] **专项训练实施范围**: _______________
  - 全部8个专项 / 先做2-3个示范 / 只做入门级

### 启动方式

- [ ] **立即开始** - 基于以上确认，我立即开始编码
- [ ] **先调研代码** - 先分析现有实现，再给详细技术方案
- [ ] **先讨论业务** - 先详细讨论业务逻辑，再开始开发

---

## 📋 快速回复模板

**方式1: 快速确认（推荐）**
```
方案A/立即开始
清台能力分: 方案A简单求和
每日目标: 时间单位（分钟）
专项训练: AI生成，先做2个示范
```

**方式2: 详细确认**
```
执行方案: 方案A业务优先
清台能力分公式: accuracy + spin + positioning + power + strategy
每日目标单位: 分钟（10分钟、20分钟、30分钟）
专项训练内容: 您提供大纲，我填充细节
实施范围: 先做基本功强化和准度提升2个示范
启动方式: 立即开始，边做边调整
其他要求: 无
```

---

## 🎯 我的建议（AI视角）

基于产品定位"三个月一杆清台"和当前完成度，我建议：

1. **优先级**: 方案A业务优先 ✅
   - P0问题已解决，技术债不紧急
   - 清台能力分是核心指标，必须修复
   - 专项训练是用户期待的核心功能

2. **清台能力分**: 使用**简单求和**（方案A）
   - 易于理解和验证
   - 后续可以根据数据优化权重

3. **每日目标**: 使用**时间单位**
   - "0/10分钟"、"0/20分钟"、"0/30分钟"
   - 更直观，符合训练场景

4. **专项训练**: **AI生成 + 2个示范**
   - 快速验证功能和体验
   - 降低内容制作成本
   - 后续根据反馈扩展

5. **启动方式**: **立即开始**
   - 边做边调整
   - 快速迭代验证

---

## 📞 等待您的确认

请告诉我：
1. 选择哪个方案？
2. 业务逻辑的具体确认（清台能力分公式、每日目标单位等）
3. 是否立即开始？

**确认后我将立即开始开发！** 🚀

---

**附录**:
- 完整评估文档: `耶氏台球网站开发完成度评估.md`
- 优化计划: `后续优化计划-2025.md`
- 实施报告: `数据源统一实施报告.md`
