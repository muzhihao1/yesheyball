/**
 * æ›´æ–° skills è¡¨çš„è¯¦ç»†å†…å®¹
 * åŸºäºå‚…å®¶ä¿Šå°çƒåå¤§æ‹›ï¼Œæ·»åŠ å®Œæ•´çš„è®­ç»ƒå†…å®¹
 */

import postgres from 'postgres';

if (!process.env.DATABASE_URL) {
  console.error('âŒ DATABASE_URL not set');
  process.exit(1);
}

const sql = postgres(process.env.DATABASE_URL);

// åå¤§æ‹›è¯¦ç»†å†…å®¹æ•°æ®
const SKILLS_DETAILED_CONTENT = [
  {
    id: 'skill_1',
    objectives: [
      'å»ºç«‹ç¨³å›ºã€å¯é‡å¤çš„å‡»çƒåŠ¨ä½œ',
      'æŒæ¡æ­£ç¡®çš„ç«™ä½ã€æ¡æ†å’Œæ‰‹æ¶',
      'å½¢æˆå¹³é¡ºã€å…·æœ‰ç©¿é€åŠ›çš„å‘åŠ›æ–¹å¼'
    ],
    detailedContent: {
      coreIdea: 'é€šè¿‡å¯¹åŠ¨ä½œå’Œå‡ºæ†ä¸¤å¤§æ¨¡å—çš„è®­ç»ƒï¼Œå»ºç«‹ä¸€å¥—æ‰å®ã€ç¨³å®šã€å¯é‡å¤çš„å‡»çƒåŠ¨ä½œã€‚',
      modules: [
        {
          title: 'æ¨¡å—ä¸€ï¼šåŠ¨ä½œ (Stance & Posture)',
          elements: [
            { name: 'æ‰‹æ¶', goal: 'ä¸ºçƒæ†æä¾›ç¨³å›ºæ”¯æ’‘', technique: 'æ‰‹æŒç´§è´´å°é¢ï¼Œæ‰‹æŒ‡ç”¨åŠ›æ‰’ä½å°å¸ƒ', commonIssues: 'æ‰‹æ¶ä¸ç¨³ã€æ‰‹æŒ‡æ— åŠ›' },
            { name: 'æ¡æ†', goal: 'æ¾æ¡çƒæ†ï¼Œä¿æŒçµæ´»æ€§', technique: 'è™å£å¤¹ä½çƒæ†ï¼Œæ‰‹æŒ‡æ¾æ¡', commonIssues: 'æ¡æ†è¿‡ç´§ã€æ‰‹å¿ƒç¦»å¼€çƒæ†' },
            { name: 'å…¥ä½', goal: 'å¿«é€Ÿæ‰¾å‡†å‡»çƒä½ç½®', technique: 'ä¸€æ­¥åˆ°ä½ï¼Œèº«ä½“è‡ªç„¶è°ƒæ•´', commonIssues: 'å¤šæ¬¡è°ƒæ•´ã€å…¥ä½ä¸å‡†' },
            { name: 'å§¿åŠ¿', goal: 'å»ºç«‹ç¨³å®šçš„å‡»çƒå¹³å°', technique: 'é‡å¿ƒåˆ†é…ï¼šå³è„š80%ã€å·¦è„š15%ã€æ‰‹æ¶5%', commonIssues: 'é‡å¿ƒä¸ç¨³ã€èº«ä½“æ™ƒåŠ¨' }
          ]
        },
        {
          title: 'æ¨¡å—äºŒï¼šå‡ºæ† (Cue Action)',
          elements: [
            { name: 'å®šç‚¹', goal: 'å‡†ç¡®ç¡®å®šå‡»çƒç‚¹', technique: 'è¶´ä¸‹åå³é”å®šå‡»çƒç‚¹', commonIssues: 'å‡ºæ†æ—¶æ”¹å˜å‡»çƒç‚¹' },
            { name: 'è¿æ†', goal: 'å»ºç«‹å¹³é¡ºçš„è¿æ†è½¨è¿¹', technique: 'å°è‡‚è‡ªç„¶æ‘†åŠ¨ï¼Œæ‰‹è‚˜å›ºå®š', commonIssues: 'è¿æ†ä¸å¹³é¡ºã€æ‰‹è‚˜ç§»åŠ¨' },
            { name: 'ååœ', goal: 'ç§¯è“„åŠ›é‡ï¼Œå‡†å¤‡å‘åŠ›', technique: 'æ‹‰æ†åˆ°åæ–¹åœé¡¿', commonIssues: 'ååœæ—¶é—´ä¸å¤Ÿã€æ‹‰æ†ä¸è¶³' },
            { name: 'å‡ºæ†', goal: 'å°†åŠ›é‡ä¼ é€’ç»™æ¯çƒ', technique: 'é€æ¸åŠ é€Ÿï¼Œç©¿é€æ¯çƒ', commonIssues: 'å‡ºæ†ä¸å¤Ÿé¡ºæ»‘ã€åŠ›é‡ä¼ é€’ä¸å®Œæ•´' }
          ]
        }
      ]
    }
  },
  {
    id: 'skill_2',
    objectives: [
      'æŒæ¡å››ç§åŸºæœ¬å‘åŠ›æ–¹å¼',
      'å­¦ä¼šæ§åˆ¶å¤§ã€ä¸­ã€å°ä¸‰ç§åŠ›åº¦',
      'å»ºç«‹å¹³é¡ºçš„å‘åŠ›æ„Ÿè§‰'
    ],
    detailedContent: {
      coreIdea: 'å‘åŠ›æ˜¯å°çƒæŠ€æœ¯çš„æ ¸å¿ƒï¼Œæ­£ç¡®çš„å‘åŠ›æ–¹å¼èƒ½æå‡å‡»çƒåŠ›åº¦å’Œç¨³å®šæ€§ã€‚',
      techniques: [
        { name: 'æ‰“', description: 'æœ€å¸¸ç”¨çš„å‘åŠ›æ–¹å¼', application: 'é€‚ç”¨äºå¤§éƒ¨åˆ†å‡»çƒ' },
        { name: 'ç‚¹', description: 'ç²¾å‡†çš„ç‚¹å‡»å¼å‘åŠ›', application: 'é€‚ç”¨äºéœ€è¦ç²¾ç¡®æ§åˆ¶çš„å‡»çƒ' },
        { name: 'æ¨', description: 'æŒç»­æ¨åŠ¨å¼å‘åŠ›', application: 'é€‚ç”¨äºéœ€è¦è¿ç»­åŠ›é‡ä¼ é€’çš„å‡»çƒ' },
        { name: 'æ“', description: 'æ—‹è½¬å¼å‘åŠ›', application: 'é€‚ç”¨äºåŠ æ—‹è½¬çš„å‡»çƒ' }
      ],
      powerLevels: [
        { level: 'å°åŠ›', range: '0-30%', usage: 'ç²¾ç¡®æ§åˆ¶æ¯çƒèµ°ä½' },
        { level: 'ä¸­åŠ›', range: '30-70%', usage: 'æ—¥å¸¸è®­ç»ƒå’Œæ¯”èµ›ä¸­æœ€å¸¸ç”¨' },
        { level: 'å¤§åŠ›', range: '70-100%', usage: 'å¼€çƒã€è¿œè·ç¦»å‡»çƒ' }
      ]
    }
  },
  {
    id: 'skill_3',
    objectives: [
      'æŒæ¡äº”åˆ†ç‚¹ç²¾å‡†ç„å‡†',
      'æé«˜è¿›çƒæˆåŠŸç‡',
      'å»ºç«‹ç§‘å­¦çš„ç„å‡†ä½“ç³»'
    ],
    detailedContent: {
      coreIdea: 'äº”åˆ†ç‚¹æ˜¯å‚…å®¶ä¿Šç‹¬åˆ›çš„ç„å‡†ä½“ç³»ï¼Œå°†ç›®æ ‡çƒåˆ’åˆ†ä¸º5ä¸ªç²¾å‡†çš„ç„å‡†ç‚¹ï¼Œå¤§å¹…æå‡è¿›çƒç²¾åº¦ã€‚',
      trainingMethod: 'é€šè¿‡å¤§é‡çš„äº”åˆ†ç‚¹è®­ç»ƒï¼Œå»ºç«‹è‚Œè‚‰è®°å¿†ï¼Œåœ¨å®æˆ˜ä¸­å¿«é€Ÿè¯†åˆ«å’Œåº”ç”¨',
      problemDiagnosis: [
        'è¿›çƒç‡ä½ï¼šå¯èƒ½æ˜¯ç„å‡†ç‚¹é€‰æ‹©ä¸å‡†ç¡®',
        'æ¯çƒèµ°ä½ä¸ç†æƒ³ï¼šå¯èƒ½æ˜¯å‡»çƒåšè–„æ§åˆ¶æœ‰é—®é¢˜',
        'è§’åº¦çƒå¤±è¯¯ï¼šéœ€è¦åŠ å¼ºè§’åº¦çƒçš„äº”åˆ†ç‚¹è®­ç»ƒ'
      ]
    }
  },
  {
    id: 'skill_4',
    objectives: [
      'æŒæ¡å››ç‚¹ä¸¤çº¿ç„å‡†æ³•',
      'å­¦ä¼šå¤šç§ç„å‡†æŠ€å·§',
      'æé«˜å„ç§è§’åº¦çƒçš„è¿›çƒç‡'
    ],
    detailedContent: {
      coreIdea: 'å‡†åº¦æ˜¯å°çƒçš„åŸºç¡€ï¼Œé€šè¿‡ç³»ç»Ÿçš„ç„å‡†è®­ç»ƒï¼Œå»ºç«‹ç§‘å­¦çš„ç„å‡†ä½“ç³»ã€‚',
      aimingPrinciples: {
        fourPointsTwoLines: 'ç„å‡†çš„æ ¸å¿ƒåŸç†ï¼šå››ä¸ªå…³é”®ç‚¹å’Œä¸¤æ¡å…³é”®çº¿',
        points: ['æ¯çƒä¸­å¿ƒç‚¹', 'å‡»çƒç‚¹', 'ç›®æ ‡çƒä¸­å¿ƒç‚¹', 'è¢‹å£ä¸­å¿ƒç‚¹'],
        lines: ['è¿›çƒçº¿ï¼ˆç›®æ ‡çƒä¸­å¿ƒåˆ°è¢‹å£ä¸­å¿ƒï¼‰', 'å‡»çƒçº¿ï¼ˆæ¯çƒä¸­å¿ƒåˆ°å‡»çƒç‚¹ï¼‰']
      },
      aimingMethods: [
        { name: 'å‡æƒ³çƒæ³•', difficulty: 'åˆçº§', application: 'æœ€åŸºç¡€çš„ç„å‡†æ–¹æ³•' },
        { name: 'äº”åˆ†ç‚¹æ³•', difficulty: 'ä¸­çº§', application: 'ç²¾ç¡®ç„å‡†ï¼Œæé«˜æˆåŠŸç‡' },
        { name: 'é‡å¿ƒçº¿æ³•', difficulty: 'é«˜çº§', application: 'å¤æ‚è§’åº¦çƒç„å‡†' }
      ]
    }
  },
  {
    id: 'skill_5',
    objectives: [
      'æŒæ¡é«˜ä½æ†ã€å®šæ†ç­‰åŸºç¡€æ†æ³•',
      'å­¦ä¼šåŠ å¡æŠ€æœ¯',
      'èƒ½å¤Ÿçµæ´»è¿ç”¨å„ç§æ†æ³•æ§åˆ¶æ¯çƒ'
    ],
    detailedContent: {
      coreIdea: 'æ†æ³•æ˜¯æ§åˆ¶æ¯çƒèµ°ä½çš„å…³é”®æŠ€æœ¯ï¼ŒåŒ…æ‹¬åŸºç¡€æ†æ³•å’Œé«˜çº§åŠ å¡æŠ€æœ¯ã€‚',
      basicCueTechniques: [
        { name: 'é«˜æ†', hitPoint: 'æ¯çƒä¸­å¿ƒåä¸Š', effect: 'æ¯çƒå‘å‰æ—‹è½¬ï¼Œå‡»ä¸­ç›®æ ‡çƒåç»§ç»­å‰è¿›' },
        { name: 'ä¸­æ†', hitPoint: 'æ¯çƒæ­£ä¸­å¿ƒ', effect: '90åº¦åˆ†ç¦»ï¼Œæœ€åŸºç¡€çš„æ†æ³•' },
        { name: 'ä½æ†', hitPoint: 'æ¯çƒä¸­å¿ƒåä¸‹', effect: 'æ¯çƒå‘åæ—‹è½¬ï¼Œå‡»ä¸­ç›®æ ‡çƒåå›æ‹‰' },
        { name: 'å®šæ†', hitPoint: 'ä¸­å¿ƒç¨åä¸‹', effect: 'å‡»ä¸­ç›®æ ‡çƒåæ¯çƒå‡ ä¹é™æ­¢' },
        { name: 'å°ä½æ†', hitPoint: 'ä¸­ä½ç‚¹ä½', effect: 'è½»å¾®çš„å›æ‹‰æ•ˆæœ' }
      },
      advancedCueTechniques: [
        { name: 'å·¦å¡', effect: 'æ¯çƒå‘å·¦æ—‹è½¬', application: 'æ”¹å˜åˆ†ç¦»è§’ï¼Œè°ƒæ•´èµ°ä½' },
        { name: 'å³å¡', effect: 'æ¯çƒå‘å³æ—‹è½¬', application: 'æ”¹å˜åˆ†ç¦»è§’ï¼Œè°ƒæ•´èµ°ä½' },
        { name: 'é¡ºå¡', effect: 'ä¸æ—‹è½¬æ–¹å‘ä¸€è‡´', application: 'å¢å¼ºèµ°ä½æ•ˆæœ' },
        { name: 'åå¡', effect: 'ä¸æ—‹è½¬æ–¹å‘ç›¸å', application: 'ç‰¹æ®Šèµ°ä½æ§åˆ¶' }
      ]
    }
  },
  {
    id: 'skill_6',
    objectives: [
      'ç†è§£åˆ†ç¦»è§’çš„ç‰©ç†åŸç†',
      'æŒæ¡å½±å“åˆ†ç¦»è§’çš„å››å¤§å› ç´ ',
      'èƒ½å¤Ÿç²¾ç¡®é¢„åˆ¤å’Œæ§åˆ¶æ¯çƒèµ°ä½'
    ],
    detailedContent: {
      coreIdea: 'åˆ†ç¦»è§’æ˜¯æ¯çƒå‡»æ‰“ç›®æ ‡çƒåçš„åˆ†ç¦»æ–¹å‘ï¼Œç†è§£åˆ†ç¦»è§’åŸç†æ˜¯ç²¾ç¡®èµ°ä½çš„åŸºç¡€ã€‚',
      physicalPrinciples: 'åˆ†ç¦»è§’ç”±å‡»çƒç‚¹ã€åŠ›é‡ã€æ†æ³•ã€é€Ÿåº¦å…±åŒå†³å®š',
      fourFactors: [
        { factor: 'å‡»çƒç‚¹ä½', impact: 'å†³å®šåŸºç¡€åˆ†ç¦»è§’åº¦' },
        { factor: 'å‡»çƒåŠ›é‡', impact: 'åŠ›é‡è¶Šå¤§ï¼Œåˆ†ç¦»è§’è¶Šæ¥è¿‘90åº¦' },
        { factor: 'æ†æ³•è¿ç”¨', impact: 'é«˜ä½æ†ä¼šæ”¹å˜åˆ†ç¦»è§’' },
        { factor: 'å‡»çƒé€Ÿåº¦', impact: 'é€Ÿåº¦å½±å“æ—‹è½¬æ•ˆæœ' }
      ],
      practicePoints: [
        '90åº¦åˆ†ç¦»è§’è®­ç»ƒï¼ˆå®šæ†ä¸­åŠ›ï¼‰',
        'ä¸åŒåŠ›é‡ä¸‹çš„åˆ†ç¦»è§’å˜åŒ–',
        'åŠ å¡å¯¹åˆ†ç¦»è§’çš„å½±å“',
        'å®æˆ˜ä¸­çš„åˆ†ç¦»è§’åº”ç”¨'
      ]
    }
  },
  {
    id: 'skill_7',
    objectives: [
      'æŒæ¡èµ°ä½çš„ä¸‰ä¸ªå±‚æ¬¡ï¼šç‚¹ã€çº¿ã€é¢',
      'å­¦ä¼šè§„åˆ’æ¯çƒèµ°ä½è·¯çº¿',
      'æé«˜èµ°ä½ç²¾åº¦å’ŒæˆåŠŸç‡'
    ],
    detailedContent: {
      coreIdea: 'èµ°ä½æ˜¯å°çƒçš„æ ¸å¿ƒæŠ€èƒ½ï¼Œé€šè¿‡ç²¾ç¡®çš„æ¯çƒæ§åˆ¶ï¼Œä¸ºä¸‹ä¸€æ†åˆ›é€ æœ€ä½³å‡»çƒæ¡ä»¶ã€‚',
      threeLevels: [
        {
          level: 'ç‚¹çš„èµ°ä½',
          description: 'è®©æ¯çƒèµ°åˆ°ä¸€ä¸ªç²¾ç¡®çš„ç‚¹ä½',
          difficulty: 'åˆçº§',
          training: 'å®šç‚¹èµ°ä½ç»ƒä¹ '
        },
        {
          level: 'çº¿çš„èµ°ä½',
          description: 'è®©æ¯çƒæ²¿ç€ä¸€æ¡çº¿è·¯ç§»åŠ¨',
          difficulty: 'ä¸­çº§',
          training: 'ç›´çº¿èµ°ä½ã€å¼§çº¿èµ°ä½ç»ƒä¹ '
        },
        {
          level: 'é¢çš„èµ°ä½',
          description: 'è®©æ¯çƒèµ°åˆ°ä¸€ä¸ªåŒºåŸŸå†…çš„ä»»æ„ä½ç½®',
          difficulty: 'é«˜çº§',
          training: 'å…¨å°èµ°ä½è§„åˆ’ç»ƒä¹ '
        }
      ],
      positioningTechniques: [
        'ä¸åƒåº“èµ°ä½ï¼ˆç›´æ¥èµ°ä½ï¼‰',
        'ä¸€åº“èµ°ä½',
        'äºŒåº“èµ°ä½',
        'å¤šåº“èµ°ä½ï¼ˆç‰¹æ®Šæƒ…å†µï¼‰'
      ]
    }
  },
  {
    id: 'skill_8',
    objectives: [
      'æŒæ¡åŸºç¡€è›‡å½©è®­ç»ƒæ–¹æ³•',
      'æé«˜è¿ç»­è¿›çƒèƒ½åŠ›',
      'åŸ¹å…»å…¨å±€è§„åˆ’èƒ½åŠ›'
    ],
    detailedContent: {
      coreIdea: 'é€šè¿‡ä¸åŒéš¾åº¦çš„è›‡å½©è®­ç»ƒï¼ŒåŸ¹å…»çƒå‘˜çš„è¿ç»­è¿›æ”»èƒ½åŠ›ã€èµ°ä½è§„åˆ’èƒ½åŠ›å’Œé«˜å‹ä¸‹çš„ç¨³å®šæ€§',
      trainingModules: [
        {
          category: 'åŸºç¡€è›‡å½©',
          content: 'ä»è›‡å½©ä¸€åˆ°ä¸‰ã€ä¸­è¢‹å››çƒå¼€å§‹ï¼Œç»ƒä¹ ç®€å•çš„èµ°ä½å’Œå‡»çƒèŠ‚å¥'
        },
        {
          category: 'çº¿è·¯è§„åˆ’',
          content: 'é•¿å°è›‡å½©ã€æ¨ªå°è›‡å½©ã€Lå½¢è›‡å½©ã€çŸ©é˜µè›‡å½©ï¼Œç»¼åˆè€ƒéªŒå…¨å±€è§„åˆ’èƒ½åŠ›'
        }
      ]
    }
  },
  {
    id: 'skill_9',
    objectives: [
      'æŒæ¡å¼€çƒã€è·³çƒç­‰ç‰¹æ®ŠæŠ€èƒ½',
      'å­¦ä¼šè§£çƒã€ä¼ çƒç­‰å®æˆ˜æŠ€å·§',
      'å®Œå–„æŠ€èƒ½ä½“ç³»'
    ],
    detailedContent: {
      coreIdea: 'æŒæ¡å„ç§é«˜çº§å‡»çƒæŠ€èƒ½ï¼Œæ˜¯è§£å†³å®æˆ˜ä¸­å¤æ‚ã€å›°éš¾å±€é¢çš„å…³é”®ã€‚',
      advancedSkills: [
        { name: 'å¼€çƒ', description: 'æ¯”èµ›å¼€å§‹æ—¶åˆ†æ•£çƒå †', difficulty: 'ä¸­çº§' },
        { name: 'è·³çƒ', description: 'è·³è¿‡éšœç¢çƒ', difficulty: 'é«˜çº§' },
        { name: 'ç¿»è¢‹', description: 'åå‘è¿›è¢‹æŠ€å·§', difficulty: 'ä¸­çº§' },
        { name: 'æ¶æ†', description: 'å„ç§ç‰¹æ®Šæ¶æ†æ–¹å¼', difficulty: 'åˆçº§' },
        { name: 'è§£çƒ', description: 'ä»æ–¯è¯ºå…‹ä¸­è§£çƒ', difficulty: 'é«˜çº§' },
        { name: 'ä¼ çƒ', description: 'åˆ©ç”¨ç›®æ ‡çƒä¼ é€’åŠ›é‡', difficulty: 'ä¸­çº§' },
        { name: 'å€Ÿä¸‹', description: 'åˆ©ç”¨åº“è¾¹åå¼¹', difficulty: 'ä¸­çº§' },
        { name: 'å…‹æ‹‰å…‹', description: 'ç‰¹æ®Šå‡»çƒæŠ€æœ¯', difficulty: 'é«˜çº§' },
        { name: 'è´´çƒ', description: 'å¤„ç†è´´åº“çƒ', difficulty: 'ä¸­çº§' }
      ]
    }
  },
  {
    id: 'skill_10',
    objectives: [
      'å»ºç«‹æ­£ç¡®çš„è¿›æ”»å’Œé˜²å®ˆæ€è·¯',
      'å­¦ä¼šåˆ†æçƒå±€',
      'åŸ¹å…»è‰¯å¥½çš„æ¯”èµ›å¿ƒæ€'
    ],
    detailedContent: {
      coreIdea: 'æ€è·¯æ˜¯å°çƒçš„çµé­‚ï¼Œæ­£ç¡®çš„æˆ˜æœ¯æ€ç»´èƒ½è®©æŠ€æœ¯å‘æŒ¥æœ€å¤§æ•ˆç”¨ã€‚',
      strategicThinking: [
        {
          category: 'è¿›æ”»æ€è·¯',
          principles: ['è¯„ä¼°è¿›çƒéš¾åº¦', 'è§„åˆ’æ¸…å°è·¯çº¿', 'é€‰æ‹©æœ€ä¼˜å‡»çƒé¡ºåº'],
          training: 'å¤šçƒç»ƒä¹ ï¼ŒåŸ¹å…»è·¯çº¿è§„åˆ’èƒ½åŠ›'
        },
        {
          category: 'é˜²å®ˆæ€è·¯',
          principles: ['åˆ¤æ–­é˜²å®ˆæ—¶æœº', 'é€‰æ‹©å®‰å…¨çƒä½ç½®', 'æ§åˆ¶æ¯”èµ›èŠ‚å¥'],
          training: 'å®æˆ˜å¯¹æŠ—ï¼ŒåŸ¹å…»é˜²å®ˆæ„è¯†'
        },
        {
          category: 'å¿ƒæ€è°ƒæ•´',
          principles: ['ä¿æŒä¸“æ³¨', 'æ§åˆ¶æƒ…ç»ª', 'å»ºç«‹è‡ªä¿¡'],
          training: 'æ¯”èµ›æ¨¡æ‹Ÿï¼ŒåŸ¹å…»æŠ—å‹èƒ½åŠ›'
        }
      ]
    }
  }
];

async function updateSkillsDetailedContent() {
  console.log('ğŸ± å¼€å§‹æ›´æ–° skills è¡¨çš„è¯¦ç»†å†…å®¹...\n');

  try {
    for (const skillData of SKILLS_DETAILED_CONTENT) {
      console.log(`ğŸ“ æ›´æ–° ${skillData.id}...`);

      await sql`
        UPDATE skills
        SET
          objectives = ${skillData.objectives},
          detailed_content = ${JSON.stringify(skillData.detailedContent)}
        WHERE id = ${skillData.id}
      `;

      console.log(`  âœ… ${skillData.id} æ›´æ–°æˆåŠŸ`);
    }

    console.log('\nâœ¨ æ‰€æœ‰æŠ€èƒ½è¯¦ç»†å†…å®¹æ›´æ–°å®Œæˆï¼');

    // éªŒè¯æ›´æ–°ç»“æœ
    console.log('\nğŸ” éªŒè¯æ›´æ–°ç»“æœï¼š\n');

    const updatedSkills = await sql`
      SELECT id, title,
             CASE
               WHEN detailed_content IS NOT NULL AND detailed_content != '{}'::jsonb
               THEN true
               ELSE false
             END as has_content,
             array_length(objectives, 1) as objectives_count
      FROM skills
      ORDER BY skill_order
    `;

    updatedSkills.forEach(skill => {
      const status = skill.has_content ? 'âœ…' : 'âŒ';
      console.log(`  ${status} ${skill.id}: ${skill.title} (ç›®æ ‡æ•°: ${skill.objectives_count || 0})`);
    });

    process.exit(0);
  } catch (error) {
    console.error('âŒ æ›´æ–°å¤±è´¥ï¼š', error);
    process.exit(1);
  } finally {
    await sql.end();
  }
}

updateSkillsDetailedContent();
